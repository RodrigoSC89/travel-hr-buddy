# Etapa 5 - Visual Interface Guide

## ğŸ“º Page Preview: /admin/mmi/os

### Header Section
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                       â”‚
â”‚  ğŸ”§ Ordens de ServiÃ§o (MMI)                                          â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Main Table Interface
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DescriÃ§Ã£o                                  â”‚ Status      â”‚ Criado em  â”‚ AÃ§Ãµes                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ManutenÃ§Ã£o preventiva do motor            â”‚ â¬œ pendente â”‚ 17/10/2025 â”‚ [pendente] [executado]   â”‚
â”‚  principal - verificaÃ§Ã£o de Ã³leo e filtros  â”‚             â”‚            â”‚ [atrasado]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SubstituiÃ§Ã£o de rolamentos do              â”‚ âœ… executadoâ”‚ 15/10/2025 â”‚ [pendente] [executado]   â”‚
â”‚  gerador auxiliar                           â”‚             â”‚            â”‚ [atrasado]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  InspeÃ§Ã£o do sistema de refrigeraÃ§Ã£o -      â”‚ ğŸ”´ atrasadoâ”‚ 10/10/2025 â”‚ [pendente] [executado]   â”‚
â”‚  bomba d'Ã¡gua marinha                       â”‚             â”‚            â”‚ [atrasado]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CalibraÃ§Ã£o de sensores de temperatura      â”‚ â¬œ pendente â”‚ 18/10/2025 â”‚ [pendente] [executado]   â”‚
â”‚  no sistema de exaustÃ£o                     â”‚             â”‚            â”‚ [atrasado]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Limpeza e teste do sistema de             â”‚ âœ… executadoâ”‚ 12/10/2025 â”‚ [pendente] [executado]   â”‚
â”‚  combate a incÃªndio                         â”‚             â”‚            â”‚ [atrasado]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ UI Components

### Status Badges

#### Pendente (Pending)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â¬œ pendente  â”‚  â† Secondary variant (gray/neutral)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Executado (Executed)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… executado â”‚  â† Default variant (primary color)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Atrasado (Late/Delayed)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ atrasado  â”‚  â† Destructive variant (red/warning)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Action Buttons

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pendente  â”‚ â”‚ executado â”‚ â”‚ atrasado  â”‚  â† Outline variant, small size
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘             â†‘             â†‘
  Click to     Click to      Click to
  mark as      mark as       mark as
  pending      executed      delayed
```

## ğŸ–±ï¸ User Interactions

### 1. Viewing Work Orders

**Initial State:**
- Page loads with "Carregando..." message
- Fetches data from `mmi_os` table
- Sorts by creation date (newest first)
- Displays in table format

**Loaded State:**
- All work orders visible
- Status shown with color-coded badges
- Dates formatted in Brazilian style (dd/MM/yyyy)
- Action buttons ready for interaction

### 2. Changing Status

**User Flow:**
```
1. User identifies work order in table
   â”‚
   â†“
2. User clicks desired status button
   â”‚  (pendente, executado, or atrasado)
   â”‚
   â†“
3. Status updates in database
   â”‚
   â†“
4. Table refreshes automatically
   â”‚
   â†“
5. New status badge displayed
```

**Success Feedback:**
- Badge color changes immediately
- Table data refreshes
- New status visible

**Error Feedback:**
- Alert message: "Erro ao atualizar status"
- Console error logged
- Previous state maintained

### 3. Date Display

**Format:** dd/MM/yyyy (Brazilian standard)

**Examples:**
- 17/10/2025 (October 17, 2025)
- 15/10/2025 (October 15, 2025)
- 10/10/2025 (October 10, 2025)

## ğŸ“± Responsive Design

### Desktop View (> 1024px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Full Table                             â”‚
â”‚  All columns visible with comfortable spacing                   â”‚
â”‚  Action buttons displayed in a row                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tablet View (768px - 1024px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Slightly Condensed Table           â”‚
â”‚  All columns visible with reduced padding     â”‚
â”‚  Action buttons still in a row                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile View (< 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Stacked Layout         â”‚
â”‚  May require horizontal     â”‚
â”‚  scrolling for full table   â”‚
â”‚  Or card-based alternative  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Component Structure

```
OSPage
â”œâ”€â”€ Header
â”‚   â””â”€â”€ h1: "ğŸ”§ Ordens de ServiÃ§o (MMI)"
â”‚
â”œâ”€â”€ Loading State (conditional)
â”‚   â””â”€â”€ p: "Carregando..."
â”‚
â””â”€â”€ Table (when loaded)
    â”œâ”€â”€ thead
    â”‚   â””â”€â”€ tr
    â”‚       â”œâ”€â”€ th: "DescriÃ§Ã£o"
    â”‚       â”œâ”€â”€ th: "Status"
    â”‚       â”œâ”€â”€ th: "Criado em"
    â”‚       â””â”€â”€ th: "AÃ§Ãµes"
    â”‚
    â””â”€â”€ tbody
        â””â”€â”€ tr (for each OS)
            â”œâ”€â”€ td: {os.descricao}
            â”œâ”€â”€ td: <Badge variant={...}>{os.status}</Badge>
            â”œâ”€â”€ td: {format(created_at, 'dd/MM/yyyy')}
            â””â”€â”€ td: 
                â”œâ”€â”€ <Button>pendente</Button>
                â”œâ”€â”€ <Button>executado</Button>
                â””â”€â”€ <Button>atrasado</Button>
```

## ğŸ’¡ Color Scheme

### Status Colors

| Status     | Badge Variant  | Primary Color | Usage                    |
|------------|---------------|---------------|--------------------------|
| pendente   | secondary     | Gray (#6B7280)| Neutral - awaiting action|
| executado  | default       | Blue (#3B82F6)| Success - completed work |
| atrasado   | destructive   | Red (#EF4444) | Warning - needs attention|

### UI Colors

- **Table Headers**: Muted background (#F3F4F6)
- **Table Borders**: Light gray (#E5E7EB)
- **Button Outline**: Primary color
- **Button Hover**: Subtle background change

## ğŸ”„ State Management

### Component State

```typescript
// Loading state
const [loading, setLoading] = useState(true);

// Work orders data
const [osList, setOSList] = useState<OS[]>([]);

// States during lifecycle:
// 1. Initial: loading=true, osList=[]
// 2. Loading: loading=true, osList=[]
// 3. Loaded: loading=false, osList=[...data]
// 4. Updating: loading=false, osList=[...data] (no loading overlay)
// 5. Updated: loading=false, osList=[...refreshed data]
```

## ğŸ“Š Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component  â”‚
â”‚   Mounts    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useEffect  â”‚
â”‚   Triggers  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  fetchOS()  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase   â”‚â”€â”€â”€â”€â†’â”‚   mmi_os     â”‚
â”‚   Query     â”‚â†â”€â”€â”€â”€â”‚   Table      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  setOSList  â”‚
â”‚  (state)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Render    â”‚
â”‚   Table     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¬ Animation & Transitions

- **Loading**: Smooth transition from loading to content
- **Button Hover**: Subtle background color change
- **Badge**: No animation (static display)
- **Table Rows**: No animation on update (instant refresh)

## ğŸ§© Integration Points

### Database Connection
```typescript
// Direct Supabase client usage
import { supabase } from "@/integrations/supabase/client";

// Query
const { data, error } = await supabase
  .from("mmi_os")
  .select("*")
  .order("created_at", { ascending: false });
```

### UI Components
```typescript
// shadcn/ui components used
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
```

### Utilities
```typescript
// Date formatting
import { format } from "date-fns";
format(new Date(os.created_at), "dd/MM/yyyy")
```

## ğŸ“ Layout Specifications

### Container
- Max width: 1536px (6xl)
- Padding: 1.5rem (6)
- Margin: Auto-centered

### Table
- Width: 100%
- Border: 1px solid
- Text size: Small (0.875rem)

### Spacing
- Section gap: 1rem (4)
- Button spacing: 0.5rem (2)
- Cell padding: 0.5rem (2)

## âœ¨ User Experience Features

### 1. **Immediate Feedback**
   - Status change happens instantly
   - No loading spinners during update
   - Visual badge update confirms action

### 2. **Error Handling**
   - User-friendly error messages
   - Console logging for debugging
   - Graceful degradation

### 3. **Accessibility**
   - Semantic HTML table structure
   - Proper heading hierarchy
   - Button labels clear and descriptive

### 4. **Performance**
   - Lazy loaded component
   - Efficient database queries
   - Minimal re-renders

## ğŸ“ Usage Examples

### Example 1: Marking Work Order as Executed

```
Before:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ManutenÃ§Ã£o preventiva â”‚ â¬œ pendente â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks: [executado]

After:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ManutenÃ§Ã£o preventiva â”‚ âœ… executadoâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Example 2: Marking Work Order as Delayed

```
Before:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InspeÃ§Ã£o do sistema   â”‚ â¬œ pendente â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks: [atrasado]

After:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InspeÃ§Ã£o do sistema   â”‚ ğŸ”´ atrasadoâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”® Future Enhancement Ideas

### Planned Features (Not Yet Implemented)
1. **Export to PDF** - Generate printable work order reports
2. **Export to CSV** - Data export for spreadsheet analysis
3. **Search/Filter** - Find specific work orders
4. **Pagination** - Handle large datasets efficiently
5. **Bulk Actions** - Update multiple work orders at once
6. **Detail View** - Modal with complete work order information
7. **History Tracking** - View status change history
8. **Notifications** - Real-time alerts for status changes

### UI Enhancements
- Tooltips on hover
- Sorting by column headers
- Row highlighting on hover
- Skeleton loading states
- Success toast notifications

---

**Visual Guide Version**: 1.0.0  
**Last Updated**: 2025-10-19  
**Status**: Complete âœ…


# Embed Restore Chart - Visual Guide

## ğŸ“¸ Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Restore Report Summary                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“¦ Total: 145        â”‚ ğŸ“ Documentos Ãºnicos: 89         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“Š MÃ©dia/dia: 7.3    â”‚ ğŸ•’ Ãšltima execuÃ§Ã£o: 12/10 14:30  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“† Logs por Dia            â”‚  ğŸ“Š Por Status            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚   Bar Chart        â”‚     â”‚  â”‚   Pie Chart      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                    â”‚     â”‚  â”‚                  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â–„â–„                â”‚     â”‚  â”‚     â•±â”€â”€â”€â”€â•²       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆ  â–„â–„            â”‚     â”‚  â”‚    â”‚      â”‚      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆ  â–ˆâ–ˆ  â–„â–„  â–„â–„   â”‚     â”‚  â”‚     â•²â”€â”€â”€â”€â•±       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ   â”‚     â”‚  â”‚                  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚  â”‚  Success: 85%    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ 06  07  08  09 ... â”‚     â”‚  â”‚  Error: 15%      â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Color Scheme

### Status Colors
- ğŸ”µ **Blue (#3b82f6)** - Success/Primary
- ğŸŸ¢ **Green (#10b981)** - Success alternative
- ğŸŸ¡ **Orange (#f59e0b)** - Warning
- ğŸ”´ **Red (#ef4444)** - Error/Critical
- ğŸŸ£ **Purple (#8b5cf6)** - Additional status

### Background
- White (#ffffff) - Main background
- Gray-700 (#374151) - Text color

## ğŸ“Š Chart Details

### Bar Chart (Logs por Dia)
```
Features:
âœ“ Shows last 7 days of data
âœ“ Date format: DD/MM
âœ“ Y-axis: Count of restorations
âœ“ X-axis: Days
âœ“ Tooltip on hover
âœ“ Blue bars (#3b82f6)
```

### Pie Chart (Por Status)
```
Features:
âœ“ Distribution by status
âœ“ Multi-color segments
âœ“ Labels with percentages
âœ“ Tooltip with values
âœ“ Legend showing status names
```

## ğŸ”’ Access Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User accesses:                                   â”‚
â”‚  /embed/restore-chart?token=abc123               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Token Valid?  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
     YESâ”‚                 â”‚NO
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Charts  â”‚  â”‚ Redirect to  â”‚
â”‚ & Data       â”‚  â”‚ /unauthorizedâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Responsive Design

### Desktop View (>768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Summary Stats (2 columns)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bar Chart       â”‚  Pie Chart          â”‚
â”‚  (50% width)     â”‚  (50% width)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile View (<768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Summary Stats (stacked)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bar Chart              â”‚
â”‚  (100% width)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pie Chart              â”‚
â”‚  (100% width)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Use Case Examples

### 1. **Email Report Embed**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Subject: Daily Restore Report      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hi Team,                           â”‚
â”‚                                     â”‚
â”‚  Here's your daily restore summary:â”‚
â”‚                                     â”‚
â”‚  [Chart Image]                      â”‚
â”‚                                     â”‚
â”‚  View full report:                  â”‚
â”‚  https://app.com/embed/restore-...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **Dashboard iFrame**
```html
<div class="dashboard-widget">
  <h3>Restore Metrics</h3>
  <iframe 
    src="/embed/restore-chart?token=..."
    width="100%" 
    height="600px"
  ></iframe>
</div>
```

### 3. **TV Wall Display**
```
Full-screen kiosk mode:
- No navigation
- Auto-refresh every 5 minutes
- High contrast for visibility
```

## ğŸ”§ Component Structure

```
RestoreChart
â”œâ”€â”€ Token Validation
â”‚   â””â”€â”€ Redirect if invalid
â”œâ”€â”€ Data Fetching
â”‚   â”œâ”€â”€ document_restore_logs
â”‚   â””â”€â”€ restore_report_logs
â”œâ”€â”€ Data Processing
â”‚   â”œâ”€â”€ Calculate summary
â”‚   â”œâ”€â”€ Group by day
â”‚   â””â”€â”€ Group by status
â””â”€â”€ Rendering
    â”œâ”€â”€ Header
    â”œâ”€â”€ Summary Grid (2x2)
    â”œâ”€â”€ Charts Container
    â”‚   â”œâ”€â”€ Bar Chart
    â”‚   â””â”€â”€ Pie Chart
    â””â”€â”€ Loading State
```

## ğŸ“ Dimensions

### Default Sizing
- **Container**: Full viewport (100vw x 100vh)
- **Padding**: 24px (p-6)
- **Chart Height**: 300px
- **Summary Grid**: 2 columns on desktop

### Recommended iFrame Sizes
```
Compact:  800 x 600
Standard: 1200 x 800
Large:    1600 x 900
Full:     100% x 600
```

## ğŸ’¡ Key Features Highlighted

### ğŸ”’ Security
- Token-based authentication
- Environment variable configuration
- Automatic unauthorized redirect

### ğŸ“Š Analytics
- Real-time data from Supabase
- Aggregated statistics
- Multi-dimensional visualization

### ğŸ¨ Design
- Clean, minimal interface
- Responsive layout
- Professional color scheme
- Emoji icons for visual appeal

### âš¡ Performance
- Direct Supabase queries
- Client-side rendering
- Efficient data processing
- Loading states

## ğŸš¦ Status Indicators

The page shows different states:

### âœ… Success State
```
Charts loaded with data
All metrics displayed
Normal operation
```

### â³ Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âŸ³ Loading...      â”‚
â”‚   (Spinner)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âŒ Error State
```
If token invalid:
â†’ Redirect to /unauthorized

If data fetch fails:
â†’ Console error logged
â†’ Empty charts shown
```

## ğŸ“ Summary Statistics Breakdown

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ Total: 145                               â”‚
â”‚    â””â”€ Count of all restoration records      â”‚
â”‚                                             â”‚
â”‚ ğŸ“ Documentos Ãºnicos: 89                    â”‚
â”‚    â””â”€ Unique document_id count              â”‚
â”‚                                             â”‚
â”‚ ğŸ“Š MÃ©dia/dia: 7.3                           â”‚
â”‚    â””â”€ Total / Days with data                â”‚
â”‚                                             â”‚
â”‚ ğŸ•’ Ãšltima execuÃ§Ã£o: 12/10/2025 14:30       â”‚
â”‚    â””â”€ Most recent restore_report_logs entry â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¬ Animation & Interaction

### On Load
1. Token validation (instant)
2. Data fetch (async)
3. Charts render with animation
4. Tooltips available on hover

### User Interactions
- **Hover over bars**: Show exact count
- **Hover over pie slices**: Show percentage
- **Responsive**: Works on all screen sizes

---

**Visual Guide** | [Implementation Guide](./EMBED_RESTORE_CHART_IMPLEMENTATION.md) | [Quick Reference](./EMBED_RESTORE_CHART_QUICKREF.md)

# DP Intelligence Center - Visual Guide

## ðŸŽ¨ UI Components Overview

### 1. Statistics Dashboard (Top Section)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“Š Statistics Dashboard                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ðŸ“„ Total     â”‚ ðŸš¨ Critical  â”‚ âœ… Analyzed  â”‚ â° Pending          â”‚
â”‚    4         â”‚    1         â”‚    2         â”‚    2                 â”‚
â”‚ Registros    â”‚ Alta priorid.â”‚ AnÃ¡lise      â”‚ Aguardando anÃ¡lise  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Filters and Search Bar
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ” Filtros e Busca                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”Ž [Buscar por tÃ­tulo, embarcaÃ§Ã£o, local, tags...]                â”‚
â”‚                                                                      â”‚
â”‚  [Todas as Classes â–¼]  [Todos os Status â–¼]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Incident Cards
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ Perda de posiÃ§Ã£o durante operaÃ§Ã£o de perfuraÃ§Ã£o     [High]       â”‚
â”‚ â”‚ 15/09/2024                                                        â”‚
â”‚ â”‚                                                                   â”‚
â”‚ â”‚ EmbarcaÃ§Ã£o perdeu posicionamento durante operaÃ§Ã£o crÃ­tica...     â”‚
â”‚ â”‚                                                                   â”‚
â”‚ â”‚ [ðŸ›¡ï¸ DP3] [Drillship Alpha] [Golfo do MÃ©xico]                     â”‚
â”‚ â”‚ [propulsion] [critical] [weather]                                â”‚
â”‚ â”‚                                                                   â”‚
â”‚ â”‚ Causa Raiz: Falha no sistema de propulsÃ£o principal              â”‚
â”‚ â”‚                                                                   â”‚
â”‚ â”‚ [ðŸ“„ RelatÃ³rio]  [ðŸ“ˆ Analisar com IA]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
*Border color: Red for Critical, Orange for High, Blue for Medium*

### 4. AI Analysis Modal (Tabbed Interface)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“ˆ AnÃ¡lise IA â€“ Perda de posiÃ§Ã£o durante operaÃ§Ã£o de perfuraÃ§Ã£o    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ðŸ“„ Resumo] [ðŸ“š Normas] [âš ï¸ Causas] [ðŸ’¡ PrevenÃ§Ã£o] [ðŸ“‹ AÃ§Ãµes]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Resumo TÃ©cnico                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                      â”‚
â”‚  A anÃ¡lise do incidente indica que a perda de posicionamento...     â”‚
â”‚  [AI-generated analysis content here]                               â”‚
â”‚                                                                      â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ­ Modal Tabs Breakdown

### Tab 1: ðŸ“„ Resumo (Summary)
- Technical overview of the incident
- Key findings from AI analysis
- Immediate observations

### Tab 2: ðŸ“š Normas (Standards)
- Related IMCA guidelines (M103, M166, M190, M252)
- IMO regulations
- PEO-DP standards
- Brazilian maritime regulations (NRs)

### Tab 3: âš ï¸ Causas (Causes)
- Root cause analysis
- Contributing factors
- Chain of events analysis
- 5 Whys methodology results

### Tab 4: ðŸ’¡ PrevenÃ§Ã£o (Prevention)
- Preventive recommendations
- Best practices to avoid recurrence
- Training requirements
- System improvements
- Procedural changes

### Tab 5: ðŸ“‹ AÃ§Ãµes (Actions)
- Corrective actions to implement
- Priority ranking
- Responsible parties
- Implementation timeline
- Verification methods

## ðŸŽ¨ Color Scheme

### Severity Indicators
- ðŸ”´ **Critical**: Red border (`border-red-500`), Red badge
- ðŸŸ  **High**: Orange border (`border-orange-500`), Orange badge
- ðŸ”µ **Medium**: Blue border (`border-blue-500`), Yellow badge
- ðŸŸ¢ **Low**: Blue border, Green badge

### Status Colors
- âœ… **Analyzed**: Green text and icon
- â° **Pending**: Orange text and icon
- ðŸ“Š **Total**: Blue text and icon
- ðŸš¨ **Critical**: Red text and icon

## ðŸ“± Responsive Design

### Desktop (>1024px)
- 4-column statistics grid
- 2-column incident cards grid
- Full-width search and filters
- Large modal (max-width: 4xl)

### Tablet (768px - 1024px)
- 2-column statistics grid
- 1-column incident cards grid
- Stacked filters

### Mobile (<768px)
- 1-column layout throughout
- Scrollable modal content
- Touch-friendly buttons
- Simplified navigation

## ðŸ”„ User Flow

### Viewing Incidents
1. User navigates to `/dp-intelligence`
2. Statistics dashboard loads immediately
3. Incidents display in grid (or load mock data if DB unavailable)
4. User can scroll through incident cards

### Filtering
1. User types in search box â†’ Real-time filtering
2. User selects DP class â†’ Cards update instantly
3. User selects status â†’ Cards update instantly
4. Combinations work together (AND logic)
5. Empty state shows if no matches

### AI Analysis
1. User clicks "Analisar com IA" button
2. Modal opens with loading spinner
3. API call to `dp-intel-analyze` Edge Function
4. GPT-4 generates structured analysis (3-5 seconds)
5. Results populate 5 tabs
6. User navigates tabs to view different aspects
7. Success toast notification appears
8. Incidents refresh to show updated analysis status

## ðŸŽ¯ Interactive Elements

### Buttons
- **"RelatÃ³rio"**: Opens external link in new tab
- **"Analisar com IA"**: Triggers AI analysis flow
- **"Ver AnÃ¡lise IA"**: Opens modal with existing analysis

### Filters
- **Search Input**: Live search with debouncing
- **Class Dropdown**: Instant filter on change
- **Status Dropdown**: Instant filter on change

### Statistics Cards
- Display real-time counts
- Update when filters change
- Color-coded for quick scanning

## ðŸ—ï¸ Component Structure

```
DPIntelligenceCenter
â”œâ”€â”€ Statistics Dashboard
â”‚   â”œâ”€â”€ Total Card
â”‚   â”œâ”€â”€ Critical Card
â”‚   â”œâ”€â”€ Analyzed Card
â”‚   â””â”€â”€ Pending Card
â”œâ”€â”€ Filters Section
â”‚   â”œâ”€â”€ Search Input
â”‚   â”œâ”€â”€ DP Class Dropdown
â”‚   â””â”€â”€ Status Dropdown
â”œâ”€â”€ Incidents Grid
â”‚   â””â”€â”€ Incident Cards (map)
â”‚       â”œâ”€â”€ Header (title, date, severity badge)
â”‚       â”œâ”€â”€ Summary text
â”‚       â”œâ”€â”€ Badges (class, vessel, location, tags)
â”‚       â”œâ”€â”€ Root cause
â”‚       â””â”€â”€ Action buttons
â”œâ”€â”€ AI Analysis Modal
â”‚   â”œâ”€â”€ Dialog Header
â”‚   â”œâ”€â”€ Tabs Navigation
â”‚   â””â”€â”€ Tab Content Panels
â”‚       â”œâ”€â”€ Summary Tab
â”‚       â”œâ”€â”€ Standards Tab
â”‚       â”œâ”€â”€ Causes Tab
â”‚       â”œâ”€â”€ Prevention Tab
â”‚       â””â”€â”€ Actions Tab
â””â”€â”€ Empty State (conditional)
```

## ðŸ’¡ Best Practices Implemented

### UX
- âœ… Loading states with spinners
- âœ… Error messages with toast notifications
- âœ… Empty states with helpful messages
- âœ… Responsive design for all devices
- âœ… Accessible with keyboard navigation
- âœ… Color-coded visual hierarchy
- âœ… Clear call-to-action buttons

### Performance
- âœ… Lazy loading of page
- âœ… Code splitting via dynamic imports
- âœ… Efficient filtering algorithms
- âœ… Memoization where appropriate
- âœ… Optimized re-renders

### Accessibility
- âœ… Semantic HTML elements
- âœ… ARIA labels on interactive elements
- âœ… Keyboard-friendly navigation
- âœ… High contrast ratios
- âœ… Screen reader compatible

## ðŸŽ¬ Animation States

### Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚           âš™ï¸ (spinning)                  â”‚
â”‚     Analisando incidente com IA...      â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Success State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… AnÃ¡lise concluÃ­da com sucesso       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ Erro ao analisar incidente          â”‚
â”‚     Tente novamente mais tarde          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“Š Data Flow Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â”‚  Action  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€â”€â”€ View Page â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Load Incidents
     â”‚                                    â”‚
     â”œâ”€â”€â”€ Search/Filter â”€â”€â”€â”€â”€â”€â”€â”€â–º Update View
     â”‚                                    â”‚
     â””â”€â”€â”€ Click "Analisar" â”€â”€â”€â”€â–º Edge Function
                                          â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                                   â”‚  GPT-4 API  â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                                   â”‚  Analysis   â”‚
                                   â”‚  Result     â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                   Display in Modal
                                          â”‚
                                   Update DB (optional)
                                          â”‚
                                   Refresh View
```

---

**Visual Design Version**: 1.0  
**Last Updated**: October 15, 2025  
**Status**: Production Ready âœ…
